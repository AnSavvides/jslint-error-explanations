CodeMirror.defineMode("javascript",function(X,w){function L(a,h){for(var b=!1,c;null!=(c=a.next());){if(c==h&&!b)return!1;b=!b&&"\\"==c}return b}function m(a,b,e){x=a;M=e;return b}function y(a,b){var e=a.next();if('"'==e||"'"==e){var c=function(a,b){L(a,e)||(b.tokenize=y);return m("string","string")};b.tokenize=c;return c(a,b)}if(/[\[\]{}\(\),;\:\.]/.test(e))return m(e);if("0"==e&&a.eat(/x/i))return a.eatWhile(/[\da-f]/i),m("number","number");if(/\d/.test(e)||"-"==e&&a.eat(/\d/))return a.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),
m("number","number");if("/"==e){if(a.eat("*"))return c=N,b.tokenize=c,c(a,b);if(a.eat("/"))return a.skipToEnd(),m("comment","comment");if("operator"==b.lastType||"keyword c"==b.lastType||/^[\[{}\(,;:]$/.test(b.lastType))return L(a,"/"),a.eatWhile(/[gimy]/),m("regexp","string-2");a.eatWhile(B);return m("operator",null,a.current())}if("#"==e)return a.skipToEnd(),m("error","error");if(B.test(e))return a.eatWhile(B),m("operator",null,a.current());a.eatWhile(/[\w\$_]/);var c=a.current(),d=C.propertyIsEnumerable(c)&&
C[c];return d&&"."!=b.lastType?m(d.type,d.style,c):m("variable","variable",c)}function N(a,b){for(var e=!1,c;c=a.next();){if("/"==c&&e){b.tokenize=y;break}e="*"==c}return m("comment","comment")}function O(a,b,e,c,d,g){this.indented=a;this.column=b;this.type=e;this.prev=d;this.info=g;null!=c&&(this.align=c)}function n(){for(var a=arguments.length-1;0<=a;a--)g.cc.push(arguments[a])}function b(){n.apply(null,arguments);return!0}function D(a){var b=g.state;if(b.context){g.marked="def";for(var e=b.localVars;e;e=
e.next)if(e.name==a)return;b.localVars={name:a,next:b.localVars}}}function P(){g.state.context={prev:g.state.context,vars:g.state.localVars};g.state.localVars=Y}function Q(){g.state.localVars=g.state.context.vars;g.state.context=g.state.context.prev}function k(a,b){var e=function(){var c=g.state;c.lexical=new O(c.indented,g.stream.column(),a,null,c.lexical,b)};e.lex=!0;return e}function f(){var a=g.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}
function l(a){return function(h){return h==a?b():";"==a?n():b(arguments.callee)}}function r(a){return"var"==a?b(k("vardef"),E,l(";"),f):"keyword a"==a?b(k("form"),j,r,f):"keyword b"==a?b(k("form"),r,f):"{"==a?b(k("}"),F,f):";"==a?b():"function"==a?b(G):"for"==a?b(k("form"),l("("),k(")"),Z,l(")"),f,r,f):"variable"==a?b(k("stat"),$):"switch"==a?b(k("form"),j,k("}","switch"),l("{"),F,f,f):"case"==a?b(j,l(":")):"default"==a?b(l(":")):"catch"==a?b(k("form"),P,l("("),R,l(")"),r,f,Q):n(k("stat"),j,l(";"),
f)}function j(a){return S.hasOwnProperty(a)?b(p):"function"==a?b(G):"keyword c"==a?b(T):"("==a?b(k(")"),T,l(")"),f,p):"operator"==a?b(j):"["==a?b(k("]"),z(j,"]"),f,p):"{"==a?b(k("}"),z(aa,"}"),f,p):b()}function T(a){return a.match(/[;\}\)\],]/)?n():n(j)}function p(a,h){if("operator"==a&&/\+\+|--/.test(h))return b(p);if("operator"==a&&"?"==h)return b(j,l(":"),j);if(";"!=a){if("("==a)return b(k(")"),z(j,")"),f,p);if("."==a)return b(ba,p);if("["==a)return b(k("]"),j,l("]"),f,p)}}function $(a){return":"==
a?b(f,r):n(p,l(";"),f)}function ba(a){if("variable"==a)return g.marked="property",b()}function aa(a){"variable"==a&&(g.marked="property");if(S.hasOwnProperty(a))return b(l(":"),j)}function z(a,h){function e(c){return","==c?b(a,e):c==h?b():b(l(h))}return function(c){return c==h?b():n(a,e)}}function F(a){return"}"==a?b():n(r,F)}function U(a){return":"==a?b(ca):n()}function ca(a){return"variable"==a?(g.marked="variable-3",b()):n()}function E(a,h){return"variable"==a?(D(h),H?b(U,I):b(I)):n()}function I(a,
h){if("="==h)return b(j,I);if(","==a)return b(E)}function Z(a){return"var"==a?b(E,l(";"),A):";"==a?b(A):"variable"==a?b(da):b(A)}function da(a,h){return"in"==h?b(j):b(p,A)}function A(a,h){return";"==a?b(V):"in"==h?b(j):b(j,l(";"),V)}function V(a){")"!=a&&b(j)}function G(a,h){if("variable"==a)return D(h),b(G);if("("==a)return b(k(")"),P,z(R,")"),f,r,Q)}function R(a,h){if("variable"==a)return D(h),H?b(U):b()}var s=X.indentUnit,W=w.json,H=w.typescript,C,d=function(a){return{type:a,style:"keyword"}},
t=d("keyword a"),q=d("keyword b"),u=d("keyword c"),J=d("operator"),v={type:"atom",style:"atom"},t={"if":t,"while":t,"with":t,"else":q,"do":q,"try":q,"finally":q,"return":u,"break":u,"continue":u,"new":u,"delete":u,"throw":u,"var":d("var"),"const":d("var"),let:d("var"),"function":d("function"),"catch":d("catch"),"for":d("for"),"switch":d("switch"),"case":d("case"),"default":d("default"),"in":J,"typeof":J,"instanceof":J,"true":v,"false":v,"null":v,undefined:v,NaN:v,Infinity:v};if(H){var q={type:"variable",
style:"variable-3"},d={"interface":d("interface"),"class":d("class"),"extends":d("extends"),constructor:d("constructor"),"public":d("public"),"private":d("private"),"protected":d("protected"),"static":d("static"),"super":d("super"),string:q,number:q,bool:q,any:q},K;for(K in d)t[K]=d[K]}C=t;var B=/[+\-*&%=<>!?|]/,x,M,S={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},g={state:null,column:null,marked:null,cc:null},Y={name:"this",next:{name:"arguments"}};f.lex=!0;return{startState:function(a){return{tokenize:y,
lastType:null,cc:[],lexical:new O((a||0)-s,0,"block",!1),localVars:w.localVars,context:w.localVars&&{vars:w.localVars},indented:0}},token:function(a,b){a.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=a.indentation());if(a.eatSpace())return null;var e=b.tokenize(a,b);if("comment"==x)return e;b.lastType=x;a:{var c=x,d=M,f=b.cc;g.state=b;g.stream=a;g.marked=null;g.cc=f;b.lexical.hasOwnProperty("align")||(b.lexical.align=!0);for(;;)if((f.length?f.pop():W?j:r)(c,d)){for(;f.length&&
f[f.length-1].lex;)f.pop()();if(g.marked){e=g.marked;break a}if(c="variable"==c)b:{for(c=b.localVars;c;c=c.next)if(c.name==d){c=!0;break b}c=void 0}if(c){e="variable-2";break a}break a}e=void 0}return e},indent:function(a,b){if(a.tokenize==N)return CodeMirror.Pass;if(a.tokenize!=y)return 0;var e=b&&b.charAt(0),c=a.lexical;"stat"==c.type&&"}"==e&&(c=c.prev);var d=c.type,f=e==d;return"vardef"==d?c.indented+("operator"==a.lastType||","==a.lastType?4:0):"form"==d&&"{"==e?c.indented:"form"==d?c.indented+
s:"stat"==d?c.indented+("operator"==a.lastType||","==a.lastType?s:0):"switch"==c.info&&!f?c.indented+(/^(?:case|default)\b/.test(b)?s:2*s):c.align?c.column+(f?0:1):c.indented+(f?0:s)},electricChars:":{}",jsonMode:W}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:!0});CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0});CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0});