			<hr class="dark">
			<div class="row footer">
				<div class="span12">
	    			JSLint Error Explanations is brought to you by <a href="http://www.jamesallardice.com/">James Allardice</a>. All content is licensed under the <a href="http://creativecommons.org/licenses/by-sa/3.0/">CC BY-SA 3.0 license</a>.
				</div>
			</div>
		</div>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
		<script src="{{ site.url }}/assets/bootstrap/js/bootstrap.min.js"></script>
		<script src="{{ site.url }}/assets/jslint/jslint.js"></script>
		<script src="{{ site.url }}/assets/codemirror/codemirror.js"></script>
		<script src="{{ site.url }}/assets/codemirror/javascript.js"></script>
		<script src="/assets/js/search.js"></script>
		<script>
			function runLint(editor) {
				var editorInput = $(editor.getInputField()),
					codeMirror = editorInput.closest(".CodeMirror"),
					outputHolder = editorInput.closest(".jslint").find(".jslint-output"),
					messageHolder = outputHolder.find(".jslint-messages"),
					jslintopts = codeMirror.prev().data("jslintopts") || {},
					result = JSLINT(editor.getValue(), jslintopts),
					errors = JSLINT.errors,
					numErrors = errors.length,
					output,
					i;
				outputHolder.find(".jslint-result").text(function () {
					return result ? "JSLint found no errors." : "JSLint found errors.";
				}).removeClass("jslint-result-success jslint-result-error").addClass(function () {
					return result ? "jslint-result-success" : "jslint-result-error";
				});
				messageHolder.empty();
				for (i = 0; i < numErrors; i++) {
					output = "";
					if (errors[i]) {
						output += "<p><span>Line " + errors[i].line + ":</span> ";
						output += errors[i].reason;
						output += "</p>"
						messageHolder.append(output);
					}
				}
				codeMirror.height(Math.max(codeMirror.find(".CodeMirror-scroll").height(), outputHolder.height()));
			}

			var codeMirrorOpts = {
				indentWithTabs: true,
				indentUnit: 4,
				lineNumbers: true,
				fixedGutter: true,
				lineWrapping: true,
				onKeyEvent: runLint
			};

			$(function () {
				$("textarea").each(function () {
					var $this = $(this);
					$this.wrap("<div class='row'><div class='jslint span12'><div class='row'><div class='span7'></div></div></div></div>");
					$this.closest(".row").append("<div class='jslint-output span5'><div class='jslint-result'></div><div class='jslint-messages'></div></div>");
					var mirror = CodeMirror.fromTextArea(this, codeMirrorOpts);
					runLint(mirror);
				});
			});
		</script>
	</body>
</html>